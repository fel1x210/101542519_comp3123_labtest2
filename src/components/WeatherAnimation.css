.weather-animation {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: 0; /* Behind text */
  border-radius: 25px 25px 0 0; /* Match container */
  pointer-events: none;
}

/* --- Sunny --- */
.weather-animation.sunny {
  background: linear-gradient(to bottom right, #4facfe 0%, #00f2fe 100%);
}

.sun-container {
  position: absolute;
  top: -50px;
  right: -50px;
  width: 200px;
  height: 200px;
}

.sun {
  width: 100px;
  height: 100px;
  background: radial-gradient(circle, #ffd700 20%, rgba(255, 215, 0, 0) 70%);
  border-radius: 50%;
  position: absolute;
  top: 50px;
  right: 50px;
  box-shadow: 0 0 40px #ffd700;
  animation: sunPulse 4s infinite alternate;
}

@keyframes sunPulse {
  0% { transform: scale(1); opacity: 0.8; }
  100% { transform: scale(1.1); opacity: 1; }
}

/* --- Cloudy --- */
.weather-animation.cloudy {
  background: linear-gradient(to bottom right, #636fa4 0%, #e8cbc0 100%);
}

.clouds {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.cloud {
  width: 100px;
  height: 40px;
  background: rgba(255, 255, 255, 0.4);
  border-radius: 20px;
  position: absolute;
  animation: moveCloud 20s linear infinite;
}

.cloud::after, .cloud::before {
  content: '';
  position: absolute;
  background: inherit;
  border-radius: 50%;
}

.cloud::after {
  width: 40px;
  height: 40px;
  top: -20px;
  left: 15px;
}

.cloud::before {
  width: 30px;
  height: 30px;
  top: -15px;
  left: 45px;
}

.x1 { top: 20%; left: -150px; transform: scale(0.8); animation-duration: 25s; opacity: 0.8; }
.x2 { top: 40%; left: -150px; transform: scale(0.6); animation-duration: 35s; animation-delay: 5s; opacity: 0.6; }
.x3 { top: 10%; left: -150px; transform: scale(0.9); animation-duration: 20s; animation-delay: 10s; opacity: 0.9; }

@keyframes moveCloud {
  0% { left: -150px; }
  100% { left: 100%; }
}

/* --- Rainy --- */
.weather-animation.rainy {
  background: linear-gradient(to bottom, #203a43, #2c5364);
}

.rain {
  position: absolute;
  width: 100%;
  height: 100%;
}

.drop {
  position: absolute;
  background: rgba(255, 255, 255, 0.6);
  width: 2px;
  height: 15px;
  top: -20px;
  animation: fall 1s linear infinite;
}

.drop:nth-child(1) { left: 10%; animation-duration: 0.8s; animation-delay: 0.1s; }
.drop:nth-child(2) { left: 20%; animation-duration: 1.2s; animation-delay: 0.3s; }
.drop:nth-child(3) { left: 30%; animation-duration: 0.7s; animation-delay: 0.5s; }
.drop:nth-child(4) { left: 40%; animation-duration: 1.1s; animation-delay: 0.2s; }
.drop:nth-child(5) { left: 50%; animation-duration: 0.9s; animation-delay: 0.4s; }
.drop:nth-child(6) { left: 60%; animation-duration: 1.3s; animation-delay: 0.1s; }
.drop:nth-child(7) { left: 70%; animation-duration: 0.8s; animation-delay: 0.6s; }
.drop:nth-child(8) { left: 80%; animation-duration: 1.0s; animation-delay: 0.3s; }
.drop:nth-child(9) { left: 90%; animation-duration: 0.7s; animation-delay: 0.2s; }
.drop:nth-child(10) { left: 95%; animation-duration: 1.2s; animation-delay: 0.5s; }

@keyframes fall {
  to { top: 100%; }
}

/* --- Snowy --- */
.weather-animation.snowy {
  background: linear-gradient(to bottom, #83a4d4, #b6fbff);
}

.snow {
  position: absolute;
  width: 100%;
  height: 100%;
}

.flake {
  position: absolute;
  background: white;
  border-radius: 50%;
  top: -10px;
  animation: snowFall 5s linear infinite;
}

.flake:nth-child(1) { left: 10%; width: 5px; height: 5px; animation-duration: 6s; }
.flake:nth-child(2) { left: 25%; width: 3px; height: 3px; animation-duration: 8s; animation-delay: 2s; }
.flake:nth-child(3) { left: 40%; width: 6px; height: 6px; animation-duration: 5s; animation-delay: 1s; }
.flake:nth-child(4) { left: 60%; width: 4px; height: 4px; animation-duration: 7s; animation-delay: 3s; }
.flake:nth-child(5) { left: 80%; width: 5px; height: 5px; animation-duration: 6s; animation-delay: 0.5s; }
.flake:nth-child(6) { left: 90%; width: 3px; height: 3px; animation-duration: 9s; animation-delay: 4s; }

@keyframes snowFall {
  0% { top: -10px; transform: translateX(0); }
  50% { transform: translateX(20px); }
  100% { top: 100%; transform: translateX(-20px); }
}

/* --- Stormy --- */
.weather-animation.stormy {
  background: linear-gradient(to bottom, #232526, #414345);
}

.flash {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: white;
  opacity: 0;
  animation: flash 5s infinite;
  z-index: 1;
}

@keyframes flash {
  0%, 90%, 100% { opacity: 0; }
  92% { opacity: 0.6; }
  93% { opacity: 0; }
  94% { opacity: 0.4; }
  96% { opacity: 0; }
}

/* --- Foggy --- */
.weather-animation.foggy {
  background: linear-gradient(to bottom, #3e5151, #decba4);
}

.fog-layer {
  position: absolute;
  width: 200%;
  height: 100%;
  background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0) 100%);
  animation: fogMove 20s linear infinite;
}

.fog-layer.two {
  animation-duration: 15s;
  animation-direction: reverse;
}

@keyframes fogMove {
  0% { transform: translateX(-50%); }
  100% { transform: translateX(0%); }
}
